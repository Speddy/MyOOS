/*! For license information please see 928.js.LICENSE.txt */
(self.webpackChunkmetaverse_experience=self.webpackChunkmetaverse_experience||[]).push([[928],{53:function(t,e){"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var s=n-1>>>1,i=t[s];if(!(0<o(i,e)))break t;t[s]=e,t[n]=i,n=s}}function s(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var s=0,i=t.length,r=i>>>1;s<r;){var h=2*(s+1)-1,a=t[h],l=h+1,u=t[l];if(0>o(a,n))l<i&&0>o(u,a)?(t[s]=u,t[l]=n,s=l):(t[s]=a,t[h]=n,s=h);else{if(!(l<i&&0>o(u,n)))break t;t[s]=u,t[l]=n,s=l}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var r=performance;e.unstable_now=function(){return r.now()}}else{var h=Date,a=h.now();e.unstable_now=function(){return h.now()-a}}var l=[],u=[],E=1,d=null,c=3,g=!1,p=!1,f=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,T="undefined"!=typeof setImmediate?setImmediate:null;function _(t){for(var e=s(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(l,e)}e=s(u)}}function R(t){if(f=!1,_(t),!p)if(null!==s(l))p=!0,k(V);else{var e=s(u);null!==e&&C(R,e.startTime-t)}}function V(t,n){p=!1,f&&(f=!1,b(w),w=-1),g=!0;var o=c;try{for(_(n),d=s(l);null!==d&&(!(d.expirationTime>n)||t&&!G());){var r=d.callback;if("function"==typeof r){d.callback=null,c=d.priorityLevel;var h=r(d.expirationTime<=n);n=e.unstable_now(),"function"==typeof h?d.callback=h:d===s(l)&&i(l),_(n)}else i(l);d=s(l)}if(null!==d)var a=!0;else{var E=s(u);null!==E&&C(R,E.startTime-n),a=!1}return a}finally{d=null,c=o,g=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var m,N=!1,D=null,w=-1,B=5,A=-1;function G(){return!(e.unstable_now()-A<B)}function y(){if(null!==D){var t=e.unstable_now();A=t;var n=!0;try{n=D(!0,t)}finally{n?m():(N=!1,D=null)}}else N=!1}if("function"==typeof T)m=function(){T(y)};else if("undefined"!=typeof MessageChannel){var S=new MessageChannel,H=S.port2;S.port1.onmessage=y,m=function(){H.postMessage(null)}}else m=function(){v(y,0)};function k(t){D=t,N||(N=!0,m())}function C(t,n){w=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,k(V))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return s(l)},e.unstable_next=function(t){switch(c){case 1:case 2:case 3:var e=3;break;default:e=c}var n=c;c=e;try{return t()}finally{c=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=c;c=t;try{return e()}finally{c=n}},e.unstable_scheduleCallback=function(t,i,o){var r=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?r+o:r:o=r,t){case 1:var h=-1;break;case 2:h=250;break;case 5:h=1073741823;break;case 4:h=1e4;break;default:h=5e3}return t={id:E++,callback:i,priorityLevel:t,startTime:o,expirationTime:h=o+h,sortIndex:-1},o>r?(t.sortIndex=o,n(u,t),null===s(l)&&t===s(u)&&(f?(b(w),w=-1):f=!0,C(R,o-r))):(t.sortIndex=h,n(l,t),p||g||(p=!0,k(V))),t},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(t){var e=c;return function(){var n=c;c=e;try{return t.apply(this,arguments)}finally{c=n}}}},3840:function(t,e,n){"use strict";t.exports=n(53)},7928:function(t,e,n){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");n(2040),n(2585),n(6832),n(4336),n(1708),n(711),n(9514),n(4921),AFRAME.registerComponent("super-hands",{schema:{colliderEvent:{default:"hit"},colliderEventProperty:{default:"el"},colliderEndEvent:{default:"hitend"},colliderEndEventProperty:{default:"el"},grabStartButtons:{default:["gripdown","trackpaddown","triggerdown","gripclose","abuttondown","bbuttondown","xbuttondown","ybuttondown","pointup","thumbup","pointingstart","pistolstart","thumbstickdown","mousedown","touchstart"]},grabEndButtons:{default:["gripup","trackpadup","triggerup","gripopen","abuttonup","bbuttonup","xbuttonup","ybuttonup","pointdown","thumbdown","pointingend","pistolend","thumbstickup","mouseup","touchend"]},stretchStartButtons:{default:["gripdown","trackpaddown","triggerdown","gripclose","abuttondown","bbuttondown","xbuttondown","ybuttondown","pointup","thumbup","pointingstart","pistolstart","thumbstickdown","mousedown","touchstart"]},stretchEndButtons:{default:["gripup","trackpadup","triggerup","gripopen","abuttonup","bbuttonup","xbuttonup","ybuttonup","pointdown","thumbdown","pointingend","pistolend","thumbstickup","mouseup","touchend"]},dragDropStartButtons:{default:["gripdown","trackpaddown","triggerdown","gripclose","abuttondown","bbuttondown","xbuttondown","ybuttondown","pointup","thumbup","pointingstart","pistolstart","thumbstickdown","mousedown","touchstart"]},dragDropEndButtons:{default:["gripup","trackpadup","triggerup","gripopen","abuttonup","bbuttonup","xbuttonup","ybuttonup","pointdown","thumbdown","pointingend","pistolend","thumbstickup","mouseup","touchend"]},interval:{default:0}},multiple:!1,init:function(){this.HOVER_EVENT="hover-start",this.UNHOVER_EVENT="hover-end",this.GRAB_EVENT="grab-start",this.UNGRAB_EVENT="grab-end",this.STRETCH_EVENT="stretch-start",this.UNSTRETCH_EVENT="stretch-end",this.DRAG_EVENT="drag-start",this.UNDRAG_EVENT="drag-end",this.DRAGOVER_EVENT="dragover-start",this.UNDRAGOVER_EVENT="dragover-end",this.DRAGDROP_EVENT="drag-drop",this.otherSuperHand=null,this.gehDragged=new Set,this.gehClicking=new Set,this.hoverEls=[],this.hoverElsIntersections=[],this.prevCheckTime=null,this.state=new Map,this.dragging=!1,this.unHover=this.unHover.bind(this),this.unWatch=this.unWatch.bind(this),this.onHit=this.onHit.bind(this),this.onGrabStartButton=this.onGrabStartButton.bind(this),this.onGrabEndButton=this.onGrabEndButton.bind(this),this.onStretchStartButton=this.onStretchStartButton.bind(this),this.onStretchEndButton=this.onStretchEndButton.bind(this),this.onDragDropStartButton=this.onDragDropStartButton.bind(this),this.onDragDropEndButton=this.onDragDropEndButton.bind(this),this.system.registerMe(this)},update:function(t){this.unRegisterListeners(t),this.registerListeners()},remove:function(){this.system.unregisterMe(this),this.unRegisterListeners(),this.hoverEls.length=0,this.state.get(this.HOVER_EVENT)&&this._unHover(this.state.get(this.HOVER_EVENT)),this.onGrabEndButton(),this.onStretchEndButton(),this.onDragDropEndButton()},tick:function(){function t(t,e){const n=null==t.distance?-1:t.distance,s=null==e.distance?-1:e.distance;return n<s?1:s<n?-1:0}return function(e){const n=this.data,s=this.prevCheckTime;if(s&&e-s<n.interval)return;this.prevCheckTime=e;let i=!1;this.hoverElsIntersections.sort(t);for(let t=0;t<this.hoverElsIntersections.length;t++)this.hoverEls[t]!==this.hoverElsIntersections[t].object.el&&(i=!0,this.hoverEls[t]=this.hoverElsIntersections[t].object.el);i&&this.hover()}}(),onGrabStartButton:function(t){let e=this.state.get(this.GRAB_EVENT);this.dispatchMouseEventAll("mousedown",this.el),this.gehClicking=new Set(this.hoverEls),e||(e=this.findTarget(this.GRAB_EVENT,{hand:this.el,buttonEvent:t}),e&&(this.state.set(this.GRAB_EVENT,e),this._unHover(e)))},onGrabEndButton:function(t){const e=this.hoverEls.filter((t=>this.gehClicking.has(t))),n=this.state.get(this.GRAB_EVENT),s={hand:this.el,buttonEvent:t};this.dispatchMouseEventAll("mouseup",this.el);for(let t=0;t<e.length;t++)this.dispatchMouseEvent(e[t],"click",this.el);this.gehClicking.clear(),n&&!this.emitCancelable(n,this.UNGRAB_EVENT,s)&&(this.promoteHoveredEl(this.state.get(this.GRAB_EVENT)),this.state.delete(this.GRAB_EVENT),this.hover())},onStretchStartButton:function(t){let e=this.state.get(this.STRETCH_EVENT);e||(e=this.findTarget(this.STRETCH_EVENT,{hand:this.el,buttonEvent:t}),e&&(this.state.set(this.STRETCH_EVENT,e),this._unHover(e)))},onStretchEndButton:function(t){const e=this.state.get(this.STRETCH_EVENT),n={hand:this.el,buttonEvent:t};e&&!this.emitCancelable(e,this.UNSTRETCH_EVENT,n)&&(this.promoteHoveredEl(e),this.state.delete(this.STRETCH_EVENT),this.hover())},onDragDropStartButton:function(t){let e=this.state.get(this.DRAG_EVENT);this.dragging=!0,this.hoverEls.length&&(this.gehDragged=new Set(this.hoverEls),this.dispatchMouseEventAll("dragstart",this.el)),e||(e=this.state.get(this.GRAB_EVENT)&&!this.emitCancelable(this.state.get(this.GRAB_EVENT),this.DRAG_EVENT,{hand:this.el,buttonEvent:t})?this.state.get(this.GRAB_EVENT):this.findTarget(this.DRAG_EVENT,{hand:this.el,buttonEvent:t}),e&&(this.state.set(this.DRAG_EVENT,e),this._unHover(e)))},onDragDropEndButton:function(t){const e=this.state.get(this.DRAG_EVENT);if(this.dragging=!1,this.gehDragged.forEach((t=>{this.dispatchMouseEvent(t,"dragend",this.el),this.dispatchMouseEventAll("drop",t,!0,!0),this.dispatchMouseEventAll("dragleave",t,!0,!0)})),this.gehDragged.clear(),e){const n={hand:this.el,dropped:e,on:null,buttonEvent:t},s={hand:this.el,buttonEvent:t},i=this.findTarget(this.DRAGDROP_EVENT,n,!0);i&&(n.on=i,this.emitCancelable(e,this.DRAGDROP_EVENT,n),this._unHover(i)),this.emitCancelable(e,this.UNDRAG_EVENT,s)||(this.promoteHoveredEl(e),this.state.delete(this.DRAG_EVENT),this.hover())}},processHitEl:function(t,e){const n=e&&e.distance,s=this.hoverElsIntersections,i=this.hoverEls;let o=!1;if(-1===this.hoverEls.indexOf(t)){if(o=!0,null!=n){let o=0;for(;o<s.length&&n<s[o].distance;)o++;i.splice(o,0,t),s.splice(o,0,e)}else i.push(t),s.push({object:{el:t}});this.dispatchMouseEvent(t,"mouseover",this.el),this.dragging&&this.gehDragged.size&&this.gehDragged.forEach((t=>{this.dispatchMouseEventAll("dragenter",t,!0,!0)}))}return o},onHit:function(t){const e=t.detail[this.data.colliderEventProperty];let n=0;if(e){if(Array.isArray(e))for(let s,i=0;i<e.length;i++)s=t.detail.intersections&&t.detail.intersections[i],n+=this.processHitEl(e[i],s);else n+=this.processHitEl(e,null);n&&this.hover()}},hover:function(){let t,e;this.state.has(this.HOVER_EVENT)&&this._unHover(this.state.get(this.HOVER_EVENT),!0),this.state.has(this.DRAGOVER_EVENT)&&this._unHover(this.state.get(this.DRAGOVER_EVENT),!0),this.dragging&&this.state.get(this.DRAG_EVENT)&&(t={hand:this.el,hovered:e,carried:this.state.get(this.DRAG_EVENT)},e=this.findTarget(this.DRAGOVER_EVENT,t,!0),e&&(this.emitCancelable(this.state.get(this.DRAG_EVENT),this.DRAGOVER_EVENT,t),this.state.set(this.DRAGOVER_EVENT,e))),this.state.has(this.DRAGOVER_EVENT)||(e=this.findTarget(this.HOVER_EVENT,{hand:this.el},!0),e&&this.state.set(this.HOVER_EVENT,e))},unHover:function(t){const e=t.detail[this.data.colliderEndEventProperty];e&&(Array.isArray(e)?e.forEach((t=>this._unHover(t))):this._unHover(e))},_unHover:function(t,e){let n,s=!1;t===this.state.get(this.DRAGOVER_EVENT)&&(this.state.delete(this.DRAGOVER_EVENT),s=!0,n={hand:this.el,hovered:t,carried:this.state.get(this.DRAG_EVENT)},this.emitCancelable(t,this.UNDRAGOVER_EVENT,n),this.state.has(this.DRAG_EVENT)&&this.emitCancelable(this.state.get(this.DRAG_EVENT),this.UNDRAGOVER_EVENT,n)),t===this.state.get(this.HOVER_EVENT)&&(this.state.delete(this.HOVER_EVENT),s=!0,this.emitCancelable(t,this.UNHOVER_EVENT,{hand:this.el})),s&&!e&&this.hover()},unWatch:function(t){const e=t.detail[this.data.colliderEndEventProperty];e&&(Array.isArray(e)?e.forEach((t=>this._unWatch(t))):this._unWatch(e))},_unWatch:function(t){const e=this.hoverEls.indexOf(t);-1!==e&&(this.hoverEls.splice(e,1),this.hoverElsIntersections.splice(e,1)),this.gehDragged.forEach((e=>{this.dispatchMouseEvent(t,"dragleave",e),this.dispatchMouseEvent(e,"dragleave",t)})),this.dispatchMouseEvent(t,"mouseout",this.el)},registerListeners:function(){this.el.addEventListener(this.data.colliderEvent,this.onHit),this.el.addEventListener(this.data.colliderEndEvent,this.unWatch),this.el.addEventListener(this.data.colliderEndEvent,this.unHover),this.data.grabStartButtons.forEach((t=>{this.el.addEventListener(t,this.onGrabStartButton)})),this.data.stretchStartButtons.forEach((t=>{this.el.addEventListener(t,this.onStretchStartButton)})),this.data.dragDropStartButtons.forEach((t=>{this.el.addEventListener(t,this.onDragDropStartButton)})),this.data.dragDropEndButtons.forEach((t=>{this.el.addEventListener(t,this.onDragDropEndButton)})),this.data.stretchEndButtons.forEach((t=>{this.el.addEventListener(t,this.onStretchEndButton)})),this.data.grabEndButtons.forEach((t=>{this.el.addEventListener(t,this.onGrabEndButton)}))},unRegisterListeners:function(t){t=t||this.data,0!==Object.keys(t).length&&(this.el.removeEventListener(t.colliderEvent,this.onHit),this.el.removeEventListener(t.colliderEndEvent,this.unHover),this.el.removeEventListener(t.colliderEndEvent,this.unWatch),t.grabStartButtons.forEach((t=>{this.el.removeEventListener(t,this.onGrabStartButton)})),t.grabEndButtons.forEach((t=>{this.el.removeEventListener(t,this.onGrabEndButton)})),t.stretchStartButtons.forEach((t=>{this.el.removeEventListener(t,this.onStretchStartButton)})),t.stretchEndButtons.forEach((t=>{this.el.removeEventListener(t,this.onStretchEndButton)})),t.dragDropStartButtons.forEach((t=>{this.el.removeEventListener(t,this.onDragDropStartButton)})),t.dragDropEndButtons.forEach((t=>{this.el.removeEventListener(t,this.onDragDropEndButton)})))},emitCancelable:function(t,e,n){const s={bubbles:!0,cancelable:!0,detail:n=n||{}};s.detail.target=s.detail.target||t;const i=new window.CustomEvent(e,s);return t.dispatchEvent(i)},dispatchMouseEvent:function(t,e,n){const s=new window.MouseEvent(e,{relatedTarget:n});t.dispatchEvent(s)},dispatchMouseEventAll:function(t,e,n,s){let i=this.hoverEls;if(n&&(i=i.filter((t=>t!==this.state.get(this.GRAB_EVENT)&&t!==this.state.get(this.DRAG_EVENT)&&t!==this.state.get(this.STRETCH_EVENT)&&!this.gehDragged.has(t)))),s)for(let n=0;n<i.length;n++)this.dispatchMouseEvent(i[n],t,e),this.dispatchMouseEvent(e,t,i[n]);else for(let n=0;n<i.length;n++)this.dispatchMouseEvent(i[n],t,e)},findTarget:function(t,e,n){let s,i=this.hoverEls;for(n&&(i=i.filter((t=>t!==this.state.get(this.GRAB_EVENT)&&t!==this.state.get(this.DRAG_EVENT)&&t!==this.state.get(this.STRETCH_EVENT)))),s=i.length-1;s>=0;s--)if(!this.emitCancelable(i[s],t,e))return i[s];return null},promoteHoveredEl:function(t){const e=this.hoverEls.indexOf(t);if(-1!==e&&null==this.hoverElsIntersections[e].distance){this.hoverEls.splice(e,1);const n=this.hoverElsIntersections.splice(e,1);this.hoverEls.push(t),this.hoverElsIntersections.push(n[0])}}})}}]);