(self.webpackChunkmetaverse_experience=self.webpackChunkmetaverse_experience||[]).push([[502],{4150:function(){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");String.prototype.format||(String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,(function(e,s){return void 0!==t[s]?t[s]:e}))}),AFRAME.registerSystem("preloader",{schema:{type:{type:"string",default:"bootstrap"},id:{type:"string",default:"preloader-modal"},autoInject:{type:"boolean",default:!0},target:{type:"selector",default:"#preloader-modal"},progressValueAttr:{type:"string",default:"aria-valuenow"},barProgressStyle:{type:"string",default:"width"},bar:{type:"selector",default:"#preloader-modal .progress-bar"},label:{type:"selector",default:"#preloader-modal .progress-label"},labelText:{type:"string",default:"{0}% Complete"},autoClose:{type:"boolean",default:!0},clickToClose:{type:"boolean",default:!1},closeLabelText:{type:"string",default:"Continue"},title:{type:"string",default:""},debug:{type:"boolean",default:!1},disableVRModeUI:{type:"boolean",default:!0},slowLoad:{type:"boolean",default:!1},doneLabelText:{type:"string",default:"Done"}},multiple:!1,loadedAssetCount:0,totalAssetCount:0,slowLoadTimeAssetUpdate:1e3,slowLoadTimePreloadFinish:4e3,init:function(){this.data.debug&&console.log("Initialized preloader"),"bootstrap"===this.data.type&&"undefined"==typeof $&&console.error("jQuery is not present, cannot instantiate Bootstrap modal for preloader!"),document.querySelector("a-assets").addEventListener("loaded",function(){this.data.debug&&console.info("All assets loaded"),this.triggerProgressComplete()}.bind(this));var t=document.querySelectorAll("a-assets a-asset-item,a-assets img,a-assets audio,a-assets video");if(this.totalAssetCount=t.length,this.watchPreloadProgress(t),!this.data.target&&this.data.autoInject)this.data.debug&&console.info("No preloader html found, auto-injecting"),this.injectHTML();else if("bootstrap"===this.data.type)this.initBootstrapModal($(this.data.target));this.data.disableVRModeUI&&this.el.setAttribute("vr-mode-ui","enabled","false")},update:function(t){},watchPreloadProgress:function(t){for(var e=0;e<t.length;e++){var s;switch(t[e].nodeName){case"A-ASSET-ITEM":s="loaded";break;case"img":s="load";break;case"audio":case"video":s="loadeddata"}t[e].addEventListener(s,function(t){this.loadedAssetCount++,this.data.debug&&console.info("Loaded "+this.loadedAssetCount+"/"+this.totalAssetCount+" asset items"),this.onAssetLoaded()}.bind(this))}},onAssetLoaded:function(){if(this.loadedAssetCount===this.totalAssetCount)this.triggerProgressComplete();else{var t=Math.floor(this.loadedAssetCount/this.totalAssetCount*100);this.data.slowLoad?setTimeout(function(){this.drawProgress(t)}.bind(this),this.slowLoadTimeAssetUpdate):this.drawProgress(t)}},triggerProgressComplete:function(){this.data.slowLoad?setTimeout(function(){"bootstrap"===this.data.type&&$(this.data.bar).addClass("progress-bar-success"),this.drawProgress(100),this.data.target.classList.add("preloader-modal__complete")}.bind(this),this.slowLoadTimePreloadFinish-1e3):("bootstrap"===this.data.type&&$(this.data.bar).addClass("progress-bar-success"),this.drawProgress(100),this.data.target.classList.add("preloader-modal__complete")),this.data.autoClose&&!this.data.clickToClose?this.data.slowLoad?setTimeout(function(){this.triggerPreloadingComplete(),this.closeModal()}.bind(this),this.slowLoadTimePreloadFinish):(this.triggerPreloadingComplete(),this.closeModal()):this.closeBtn&&this.data.clickToClose&&(this.data.slowLoad?setTimeout(function(){this.closeBtn.setAttribute("style","display: inline-block")}.bind(this),this.slowLoadTimePreloadFinish):this.closeBtn.setAttribute("style","display: inline-block"))},drawProgress:function(t){this.data.label&&(this.data.label.innerHTML=100===t?this.data.doneLabelText:this.data.labelText.format(t)),this.data.bar&&(this.data.bar.setAttribute(this.data.progressValueAttr,t),this.data.bar.setAttribute("style",this.data.barProgressStyle+":"+t+"%"))},injectHTML:function(){if("bootstrap"===this.data.type)this.injectBootstrapModal()},injectBootstrapModal:function(){if(this.data.debug&&console.info("Injecting bootstrap modal"),this.data.title)t=$('<div id="'+this.data.id+'" class="modal instructions-modal" tabindex="-1" role="dialog"><div class="modal-dialog modal-dialog__full" role="document"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">'+this.data.title+'</h4></div><div class="modal-body"><div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-3"><div class="progress"><div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"><span class="progress-label">Loading 0% Complete</span></div></div></div></div><div class="modal-footer">'+(this.data.clickToClose?'<button type="button" class="close-btn btn btn-default" data-dismiss="modal">Continue</button>':"")+"</div></div></div></div>");else var t=$('<div id="'+this.data.id+'" class="modal instructions-modal" tabindex="-1" role="dialog"><div class="modal-dialog modal-dialog__full" role="document"><div class="modal-content vertical-align text-center"><div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-3"><div class="progress"><div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"><span class="progress-label">Loading 0% Complete</span></div></div>'+(this.data.clickToClose?'<button type="button" class="close-btn btn btn-default" data-dismiss="modal">Continue</button>':"")+"</div></div></div></div>");$("body").append(t),this.data.target=t[0],this.data.label=t.find(".progress-label")[0],this.data.bar=t.find(".progress-bar")[0],this.initBootstrapModal(t)},initBootstrapModal:function(t){if(t.modal({backdrop:"static",keyboard:!1}),!this.data.title){var e=$("<style>.vertical-align {display: flex;align-items: center;}.modal-dialog__full {width: 100%;height: 100%;margin: 0;padding: 0;}.modal-dialog__full .modal-content {height: auto;min-height: 100%;border-radius: 0;}</style>");$("head").append(e)}if(this.data.clickToClose){var s=t.find("[data-dismiss=modal]");s.length>0?(this.closeBtn=s[0],this.closeBtn.setAttribute("style","display: none"),t.on("hidden.bs.modal",function(t){this.triggerPreloadingComplete()}.bind(this))):console.error('No Bootstrap modal close button is set in the HTML. Please add a button with the data-dismiss="modal" attribute to use clickToClose.')}},triggerPreloadingComplete:function(){this.data.debug&&console.info("Preloading complete"),this.data.disableVRModeUI&&this.el.setAttribute("vr-mode-ui","enabled","true"),this.el.emit("preloading-complete")},closeModal:function(){if("bootstrap"===this.data.type)$(this.data.target).modal("hide")}})},2694:function(){THREE.AmmoDebugConstants={NoDebug:0,DrawWireframe:1,DrawAabb:2,DrawFeaturesText:4,DrawContactPoints:8,NoDeactivation:16,NoHelpText:32,DrawText:64,ProfileTimings:128,EnableSatComparison:256,DisableBulletLCP:512,EnableCCD:1024,DrawConstraints:2048,DrawConstraintLimits:4096,FastWireframe:8192,DrawNormals:16384,DrawOnTop:32768,MAX_DEBUG_DRAW_MODE:4294967295},THREE.AmmoDebugDrawer=function(t,e,s){this.scene=t,this.world=e,s=s||{},this.debugDrawMode=s.debugDrawMode||THREE.AmmoDebugConstants.DrawWireframe;var o=this.debugDrawMode&THREE.AmmoDebugConstants.DrawOnTop||!1,r=s.maxBufferSize||1e6;this.geometry=new THREE.BufferGeometry;var i=new Float32Array(3*r),a=new Float32Array(3*r);this.geometry.addAttribute("position",new THREE.BufferAttribute(i,3).setDynamic(!0)),this.geometry.addAttribute("color",new THREE.BufferAttribute(a,3).setDynamic(!0)),this.index=0;var n=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:!o});this.mesh=new THREE.LineSegments(this.geometry,n),o&&(this.mesh.renderOrder=999),this.mesh.frustumCulled=!1,this.enabled=!1,this.debugDrawer=new Ammo.DebugDrawer,this.debugDrawer.drawLine=this.drawLine.bind(this),this.debugDrawer.drawContactPoint=this.drawContactPoint.bind(this),this.debugDrawer.reportErrorWarning=this.reportErrorWarning.bind(this),this.debugDrawer.draw3dText=this.draw3dText.bind(this),this.debugDrawer.setDebugMode=this.setDebugMode.bind(this),this.debugDrawer.getDebugMode=this.getDebugMode.bind(this),this.debugDrawer.enable=this.enable.bind(this),this.debugDrawer.disable=this.disable.bind(this),this.debugDrawer.update=this.update.bind(this),this.world.setDebugDrawer(this.debugDrawer)},THREE.AmmoDebugDrawer.prototype=function(){return this.debugDrawer},THREE.AmmoDebugDrawer.prototype.enable=function(){this.enabled=!0,this.scene.add(this.mesh)},THREE.AmmoDebugDrawer.prototype.disable=function(){this.enabled=!1,this.scene.remove(this.mesh)},THREE.AmmoDebugDrawer.prototype.update=function(){this.enabled&&(0!=this.index&&(this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.color.needsUpdate=!0),this.index=0,this.world.debugDrawWorld(),this.geometry.setDrawRange(0,this.index))},THREE.AmmoDebugDrawer.prototype.drawLine=function(t,e,s){const o=Ammo.HEAPF32,r=o[(s+0)/4],i=o[(s+4)/4],a=o[(s+8)/4],n=o[(t+0)/4],d=o[(t+4)/4],l=o[(t+8)/4];this.geometry.attributes.position.setXYZ(this.index,n,d,l),this.geometry.attributes.color.setXYZ(this.index++,r,i,a);const h=o[(e+0)/4],c=o[(e+4)/4],u=o[(e+8)/4];this.geometry.attributes.position.setXYZ(this.index,h,c,u),this.geometry.attributes.color.setXYZ(this.index++,r,i,a)},THREE.AmmoDebugDrawer.prototype.drawContactPoint=function(t,e,s,o,r){const i=Ammo.HEAPF32,a=i[(r+0)/4],n=i[(r+4)/4],d=i[(r+8)/4],l=i[(t+0)/4],h=i[(t+4)/4],c=i[(t+8)/4];this.geometry.attributes.position.setXYZ(this.index,l,h,c),this.geometry.attributes.color.setXYZ(this.index++,a,n,d);const u=i[(e+0)/4]*s,p=i[(e+4)/4]*s,g=i[(e+8)/4]*s;this.geometry.attributes.position.setXYZ(this.index,l+u,h+p,c+g),this.geometry.attributes.color.setXYZ(this.index++,a,n,d)},THREE.AmmoDebugDrawer.prototype.reportErrorWarning=function(t){Ammo.hasOwnProperty("Pointer_stringify")?console.warn(Ammo.Pointer_stringify(t)):this.warnedOnce||(this.warnedOnce=!0,console.warn("Cannot print warningString, please rebuild Ammo.js using 'debug' flag"))},THREE.AmmoDebugDrawer.prototype.draw3dText=function(t,e){console.warn("TODO: draw3dText")},THREE.AmmoDebugDrawer.prototype.setDebugMode=function(t){this.debugDrawMode=t},THREE.AmmoDebugDrawer.prototype.getDebugMode=function(){return this.debugDrawMode}},6594:function(t,e,s){"use strict";s.r(e),s.d(e,{Pathfinding:function(){return n},PathfindingHelper:function(){return l}});var o=s(9477);class r{static roundNumber(t,e){const s=Math.pow(10,e);return Math.round(t*s)/s}static sample(t){return t[Math.floor(Math.random()*t.length)]}static distanceToSquared(t,e){var s=t.x-e.x,o=t.y-e.y,r=t.z-e.z;return s*s+o*o+r*r}static isPointInPoly(t,e){for(var s=!1,o=-1,r=t.length,i=r-1;++o<r;i=o)(t[o].z<=e.z&&e.z<t[i].z||t[i].z<=e.z&&e.z<t[o].z)&&e.x<(t[i].x-t[o].x)*(e.z-t[o].z)/(t[i].z-t[o].z)+t[o].x&&(s=!s);return s}static isVectorInPolygon(t,e,s){var o=1e5,r=-1e5,i=[];return e.vertexIds.forEach((t=>{o=Math.min(s[t].y,o),r=Math.max(s[t].y,r),i.push(s[t])})),!!(t.y<r+.5&&t.y>o-.5&&this.isPointInPoly(i,t))}static triarea2(t,e,s){return(s.x-t.x)*(e.z-t.z)-(e.x-t.x)*(s.z-t.z)}static vequal(t,e){return this.distanceToSquared(t,e)<1e-5}static mergeVertices(t,e=1e-4){e=Math.max(e,Number.EPSILON);for(var s={},r=t.getIndex(),i=t.getAttribute("position"),a=r?r.count:i.count,n=0,d=[],l=[],h=Math.log10(1/e),c=Math.pow(10,h),u=0;u<a;u++){var p=r?r.getX(u):u,g="";g+=~~(i.getX(p)*c)+",",g+=~~(i.getY(p)*c)+",",(g+=~~(i.getZ(p)*c)+",")in s?d.push(s[g]):(l.push(i.getX(p)),l.push(i.getY(p)),l.push(i.getZ(p)),s[g]=n,d.push(n),n++)}const b=new o.TlE(new Float32Array(l),i.itemSize,i.normalized),f=new o.u9r;return f.setAttribute("position",b),f.setIndex(d),f}}class i{constructor(t){this.content=[],this.scoreFunction=t}push(t){this.content.push(t),this.sinkDown(this.content.length-1)}pop(){const t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t}remove(t){const e=this.content.indexOf(t),s=this.content.pop();e!==this.content.length-1&&(this.content[e]=s,this.scoreFunction(s)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))}size(){return this.content.length}rescoreElement(t){this.sinkDown(this.content.indexOf(t))}sinkDown(t){const e=this.content[t];for(;t>0;){const s=(t+1>>1)-1,o=this.content[s];if(!(this.scoreFunction(e)<this.scoreFunction(o)))break;this.content[s]=e,this.content[t]=o,t=s}}bubbleUp(t){const e=this.content.length,s=this.content[t],o=this.scoreFunction(s);for(;;){const r=t+1<<1,i=r-1;let a,n=null;if(i<e&&(a=this.scoreFunction(this.content[i]),a<o&&(n=i)),r<e&&this.scoreFunction(this.content[r])<(null===n?o:a)&&(n=r),null===n)break;this.content[t]=this.content[n],this.content[n]=s,t=n}}}class a{constructor(){this.portals=[]}push(t,e){void 0===e&&(e=t),this.portals.push({left:t,right:e})}stringPull(){const t=this.portals,e=[];let s,o,i,a=0,n=0,d=0;s=t[0].left,o=t[0].left,i=t[0].right,e.push(s);for(let l=1;l<t.length;l++){const h=t[l].left,c=t[l].right;if(r.triarea2(s,i,c)<=0){if(!(r.vequal(s,i)||r.triarea2(s,o,c)>0)){e.push(o),s=o,a=n,o=s,i=s,n=a,d=a,l=a;continue}i=c,d=l}if(r.triarea2(s,o,h)>=0){if(!(r.vequal(s,o)||r.triarea2(s,i,h)<0)){e.push(i),s=i,a=d,o=s,i=s,n=a,d=a,l=a;continue}o=h,n=l}}return 0!==e.length&&r.vequal(e[e.length-1],t[t.length-1].left)||e.push(t[t.length-1].left),this.path=e,e}}class n{constructor(){this.zones={}}static createZone(t,e=1e-4){return class{static buildZone(t,e){const s=this._buildNavigationMesh(t,e),i={};s.vertices.forEach((t=>{t.x=r.roundNumber(t.x,2),t.y=r.roundNumber(t.y,2),t.z=r.roundNumber(t.z,2)})),i.vertices=s.vertices;const a=this._buildPolygonGroups(s);return i.groups=new Array(a.length),a.forEach(((t,e)=>{const s=new Map;t.forEach(((t,e)=>{s.set(t,e)}));const a=new Array(t.length);t.forEach(((t,e)=>{const n=[];t.neighbours.forEach((t=>n.push(s.get(t))));const d=[];t.neighbours.forEach((e=>d.push(this._getSharedVerticesInOrder(t,e))));const l=new o.Pa4(0,0,0);l.add(i.vertices[t.vertexIds[0]]),l.add(i.vertices[t.vertexIds[1]]),l.add(i.vertices[t.vertexIds[2]]),l.divideScalar(3),l.x=r.roundNumber(l.x,2),l.y=r.roundNumber(l.y,2),l.z=r.roundNumber(l.z,2),a[e]={id:e,neighbours:n,vertexIds:t.vertexIds,centroid:l,portals:d}})),i.groups[e]=a})),i}static _buildNavigationMesh(t,e){return t=r.mergeVertices(t,e),this._buildPolygonsFromGeometry(t)}static _spreadGroupId(t){let e=new Set([t]);for(;e.size>0;){const s=e;e=new Set,s.forEach((s=>{s.group=t.group,s.neighbours.forEach((t=>{void 0===t.group&&e.add(t)}))}))}}static _buildPolygonGroups(t){const e=[];return t.polygons.forEach((t=>{void 0!==t.group?e[t.group].push(t):(t.group=e.length,this._spreadGroupId(t),e.push([t]))})),e}static _buildPolygonNeighbours(t,e){const s=new Set,o=e[t.vertexIds[1]],r=e[t.vertexIds[2]];return e[t.vertexIds[0]].forEach((e=>{e!==t&&(o.includes(e)||r.includes(e))&&s.add(e)})),o.forEach((e=>{e!==t&&r.includes(e)&&s.add(e)})),s}static _buildPolygonsFromGeometry(t){const e=[],s=[],r=t.attributes.position,i=t.index,a=[];for(let t=0;t<r.count;t++)s.push((new o.Pa4).fromBufferAttribute(r,t)),a[t]=[];for(let s=0;s<t.index.count;s+=3){const t=i.getX(s),o=i.getX(s+1),r=i.getX(s+2),n={vertexIds:[t,o,r],neighbours:null};e.push(n),a[t].push(n),a[o].push(n),a[r].push(n)}return e.forEach((t=>{t.neighbours=this._buildPolygonNeighbours(t,a)})),{polygons:e,vertices:s}}static _getSharedVerticesInOrder(t,e){const s=t.vertexIds,o=s[0],r=s[1],i=s[2],a=e.vertexIds,n=a.includes(o),d=a.includes(r),l=a.includes(i);return n&&d&&l?Array.from(s):n&&d?[o,r]:d&&l?[r,i]:n&&l?[i,o]:(console.warn("Error processing navigation mesh neighbors; neighbors with <2 shared vertices found."),[])}}.buildZone(t,e)}setZoneData(t,e){this.zones[t]=e}getRandomNode(t,e,s,i){if(!this.zones[t])return new o.Pa4;s=s||null,i=i||0;const a=[];return this.zones[t].groups[e].forEach((t=>{s&&i?r.distanceToSquared(s,t.centroid)<i*i&&a.push(t.centroid):a.push(t.centroid)})),r.sample(a)||new o.Pa4}getClosestNode(t,e,s,o=!1){const i=this.zones[e].vertices;let a=null,n=1/0;return this.zones[e].groups[s].forEach((e=>{const s=r.distanceToSquared(e.centroid,t);s<n&&(!o||r.isVectorInPolygon(t,e,i))&&(a=e,n=s)})),a}findPath(t,e,s,n){const d=this.zones[s].groups[n],l=this.zones[s].vertices,h=this.getClosestNode(t,s,n,!0),c=this.getClosestNode(e,s,n,!0);if(!h||!c)return null;const u=class{static init(t){for(let e=0;e<t.length;e++){const s=t[e];s.f=0,s.g=0,s.h=0,s.cost=1,s.visited=!1,s.closed=!1,s.parent=null}}static cleanUp(t){for(let e=0;e<t.length;e++){const s=t[e];delete s.f,delete s.g,delete s.h,delete s.cost,delete s.visited,delete s.closed,delete s.parent}}static heap(){return new i((function(t){return t.f}))}static search(t,e,s){this.init(t);const o=this.heap();for(o.push(e);o.size()>0;){const e=o.pop();if(e===s){let t=e;const s=[];for(;t.parent;)s.push(t),t=t.parent;return this.cleanUp(s),s.reverse()}e.closed=!0;const r=this.neighbours(t,e);for(let t=0,i=r.length;t<i;t++){const i=r[t];if(i.closed)continue;const a=e.g+i.cost,n=i.visited;if(!n||a<i.g){if(i.visited=!0,i.parent=e,!i.centroid||!s.centroid)throw new Error("Unexpected state");i.h=i.h||this.heuristic(i.centroid,s.centroid),i.g=a,i.f=i.g+i.h,n?o.rescoreElement(i):o.push(i)}}}return[]}static heuristic(t,e){return r.distanceToSquared(t,e)}static neighbours(t,e){const s=[];for(let o=0;o<e.neighbours.length;o++)s.push(t[e.neighbours[o]]);return s}}.search(d,h,c),p=function(t,e){for(var s=0;s<t.neighbours.length;s++)if(t.neighbours[s]===e.id)return t.portals[s]},g=new a;g.push(t);for(let t=0;t<u.length;t++){const e=u[t],s=u[t+1];if(s){const t=p(e,s);g.push(l[t[0]],l[t[1]])}}g.push(e),g.stringPull();const b=g.path.map((t=>new o.Pa4(t.x,t.y,t.z)));return b.shift(),b}}n.prototype.getGroup=function(){const t=new o.JOQ;return function(e,s,o=!1){if(!this.zones[e])return null;let i=null,a=Math.pow(50,2);const n=this.zones[e];for(let e=0;e<n.groups.length;e++){const d=n.groups[e];for(const l of d){if(o&&(t.setFromCoplanarPoints(n.vertices[l.vertexIds[0]],n.vertices[l.vertexIds[1]],n.vertices[l.vertexIds[2]]),Math.abs(t.distanceToPoint(s))<.01)&&r.isPointInPoly([n.vertices[l.vertexIds[0]],n.vertices[l.vertexIds[1]],n.vertices[l.vertexIds[2]]],s))return e;const d=r.distanceToSquared(l.centroid,s);d<a&&(i=e,a=d)}}return i}}(),n.prototype.clampStep=function(){const t=new o.Pa4,e=new o.JOQ,s=new o.CJI,r=new o.Pa4;let i,a,n=new o.Pa4;return function(o,d,l,h,c,u){const p=this.zones[h].vertices,g=this.zones[h].groups[c],b=[l],f={};f[l.id]=0,i=void 0,n.set(0,0,0),a=1/0,e.setFromCoplanarPoints(p[l.vertexIds[0]],p[l.vertexIds[1]],p[l.vertexIds[2]]),e.projectPoint(d,t),r.copy(t);for(let e=b.pop();e;e=b.pop()){s.set(p[e.vertexIds[0]],p[e.vertexIds[1]],p[e.vertexIds[2]]),s.closestPointToPoint(r,t),t.distanceToSquared(r)<a&&(i=e,n.copy(t),a=t.distanceToSquared(r));const o=f[e.id];if(!(o>2))for(let t=0;t<e.neighbours.length;t++){const s=g[e.neighbours[t]];s.id in f||(b.push(s),f[s.id]=o+1)}}return u.copy(n),i}}();const d={PLAYER:new o.Ilk(15631215).convertSRGBToLinear().getHex(),TARGET:new o.Ilk(14469912).convertSRGBToLinear().getHex(),PATH:new o.Ilk(41903).convertSRGBToLinear().getHex(),WAYPOINT:new o.Ilk(41903).convertSRGBToLinear().getHex(),CLAMPED_STEP:new o.Ilk(14472114).convertSRGBToLinear().getHex(),CLOSEST_NODE:new o.Ilk(4417387).convertSRGBToLinear().getHex()};class l extends o.Tme{constructor(){super(),this._playerMarker=new o.Kj0(new o.xo$(.25,32,32),new o.vBJ({color:d.PLAYER})),this._targetMarker=new o.Kj0(new o.DvJ(.3,.3,.3),new o.vBJ({color:d.TARGET})),this._nodeMarker=new o.Kj0(new o.DvJ(.1,.8,.1),new o.vBJ({color:d.CLOSEST_NODE})),this._stepMarker=new o.Kj0(new o.DvJ(.1,1,.1),new o.vBJ({color:d.CLAMPED_STEP})),this._pathMarker=new o.Tme,this._pathLineMaterial=new o.nls({color:d.PATH,linewidth:2}),this._pathPointMaterial=new o.vBJ({color:d.WAYPOINT}),this._pathPointGeometry=new o.xo$(.08),this._markers=[this._playerMarker,this._targetMarker,this._nodeMarker,this._stepMarker,this._pathMarker],this._markers.forEach((t=>{t.visible=!1,this.add(t)}))}setPath(t){for(;this._pathMarker.children.length;)this._pathMarker.children[0].visible=!1,this._pathMarker.remove(this._pathMarker.children[0]);t=[this._playerMarker.position].concat(t);const e=new o.u9r;e.setAttribute("position",new o.TlE(new Float32Array(3*t.length),3));for(let s=0;s<t.length;s++)e.attributes.position.setXYZ(s,t[s].x,t[s].y+.2,t[s].z);this._pathMarker.add(new o.x12(e,this._pathLineMaterial));for(let e=0;e<t.length-1;e++){const s=new o.Kj0(this._pathPointGeometry,this._pathPointMaterial);s.position.copy(t[e]),s.position.y+=.2,this._pathMarker.add(s)}return this._pathMarker.visible=!0,this}setPlayerPosition(t){return this._playerMarker.position.copy(t),this._playerMarker.visible=!0,this}setTargetPosition(t){return this._targetMarker.position.copy(t),this._targetMarker.visible=!0,this}setNodePosition(t){return this._nodeMarker.position.copy(t),this._nodeMarker.visible=!0,this}setStepPosition(t){return this._stepMarker.position.copy(t),this._stepMarker.visible=!0,this}reset(){for(;this._pathMarker.children.length;)this._pathMarker.children[0].visible=!1,this._pathMarker.remove(this._pathMarker.children[0]);return this._markers.forEach((t=>{t.visible=!1})),this}}},8034:function(t){var e=arguments[3],s=arguments[4],o=arguments[5],r=JSON.stringify;t.exports=function(t,i){for(var a,n=Object.keys(o),d=0,l=n.length;d<l;d++){var h=n[d],c=o[h].exports;if(c===t||c&&c.default===t){a=h;break}}if(!a){a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var u={};for(d=0,l=n.length;d<l;d++){u[h=n[d]]=h}s[a]=["function(require,module,exports){"+t+"(self); }",u]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),g={};g[a]=a,s[p]=["function(require,module,exports){var f = require("+r(a)+");(f.default ? f.default : f)(self);}",g];var b={};!function t(e){for(var o in b[e]=!0,s[e][1]){var r=s[e][1][o];b[r]||t(r)}}(p);var f="("+e+")({"+Object.keys(b).map((function(t){return r(t)+":["+s[t][0]+","+r(s[t][1])+"]"})).join(",")+"},{},["+r(p)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,w=new Blob([f],{type:"text/javascript"});if(i&&i.bare)return w;var v=m.createObjectURL(w),y=new Worker(v);return y.objectURL=v,y}}}]);